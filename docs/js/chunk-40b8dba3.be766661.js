(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40b8dba3"],{"11e9":function(t,e,a){var r=a("52a7"),n=a("4630"),i=a("6821"),o=a("6a99"),l=a("69a8"),c=a("c69a"),s=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?s:function(t,e){if(t=i(t),e=o(e,!0),c)try{return s(t,e)}catch(a){}if(l(t,e))return n(!r.f.call(t,e),t[e])}},"3caa":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.dialogFormVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogFormVisible=e},closed:function(e){t.formData={}}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData,rules:t.rules,inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"库存预警",prop:"inventoryWarning"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formData.inventoryWarning,callback:function(e){t.$set(t.formData,"inventoryWarning",e)},expression:"formData.inventoryWarning"}})],1),a("el-form-item",{attrs:{label:"库存",prop:"quantity"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.formData.quantity,callback:function(e){t.$set(t.formData,"quantity",e)},expression:"formData.quantity"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("ruleForm")}}},[t._v("确 定")])],1)],1),a("div",{staticClass:"top"},[a("el-form",{attrs:{inline:!0,model:t.searchForm,size:"small"}},[-1!==t.$store.state.permission.indexOf(71001)?a("el-form-item",[a("el-select",{model:{value:t.searchForm.shopId,callback:function(e){t.$set(t.searchForm,"shopId",e)},expression:"searchForm.shopId"}},t._l(t.mallList,function(t){return a("el-option",{key:t.shopId,attrs:{label:t.name,value:t.id,placeholder:"选择店铺"}})}),1)],1):t._e(),a("el-form-item",[a("el-select",{model:{value:t.searchForm.productTypeId,callback:function(e){t.$set(t.searchForm,"productTypeId",e)},expression:"searchForm.productTypeId"}},t._l(t.productType,function(t){return a("el-option",{key:t.id,attrs:{label:t.productTypeName,value:t.id,placeholder:"按商品分类查询"}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fetch()}}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"编号"}}),a("el-table-column",{attrs:{prop:"productName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),a("el-table-column",{attrs:{prop:"inventoryWarning",label:"库存预警"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pagination.current,layout:"total, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.fetch}})],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function o(t,e){var a=Object.keys(t);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(t)),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var c={name:"StockList",data:function(){return{tableData:[],pagination:{},loading:!1,searchForm:{},dialogFormVisible:!1,formData:{},rules:{inventoryWarning:[{required:!0,message:"请输入内容",trigger:"blur"}],quantity:[{required:!0,message:"请输入内容",trigger:"blur"}]},mallList:[],productType:[]}},methods:{reset:function(){this.searchForm={},this.fetch()},handleEdit:function(t){this.formData=JSON.parse(JSON.stringify(t)),this.dialogFormVisible=!0},submit:function(t){var e=this;this.$refs[t].validate(function(t){if(t)return e.$ajax.post(e.formData.id?"/updateInventory.action":"",{id:e.formData.id,inventoryWarning:e.formData.inventoryWarning,quantity:e.formData.quantity}).then(function(t){1===t.data.code&&(e.dialogFormVisible=!1,e.$message.success(t.data.msg),e.fetch(e.pagination.current))}),!1})},fetch:function(t){var e=this;this.loading=!0,this.$ajax.post("/listInventory.action",l({limit:10,page:t||1},this.searchForm)).then(function(a){if(1===a.data.code){var r=l({},e.pagination);r.total=a.data.count,r.current=t,e.loading=!1,e.tableData=a.data.data,e.pagination=r}})},getAllProductType:function(){var t=this;this.$ajax.post("/listProductType.action",{page:1,limit:100}).then(function(e){1===e.data.code&&(t.productType=e.data.listProductType)})},getAllMall:function(){var t=this;-1!==this.$store.state.permission.indexOf(71001)&&this.$ajax.post("/listShopIdAndName.action",{page:1,limit:100}).then(function(e){1===e.data.code&&(t.mallList=e.data.data)})}},mounted:function(){this.fetch(),this.getAllProductType(),this.getAllMall()}},s=c,u=a("2877"),f=Object(u["a"])(s,r,n,!1,null,"30984bd8",null);e["default"]=f.exports},"454f":function(t,e,a){a("46a7");var r=a("584a").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},"456d":function(t,e,a){var r=a("4bf8"),n=a("0d58");a("5eda")("keys",function(){return function(t){return n(r(t))}})},"46a7":function(t,e,a){var r=a("63b6");r(r.S+r.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"5eda":function(t,e,a){var r=a("5ca1"),n=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],o={};o[t]=e(a),r(r.S+r.F*i(function(){a(1)}),"Object",o)}},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var r=a("5ca1"),n=a("990b"),i=a("6821"),o=a("11e9"),l=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=i(t),c=o.f,s=n(r),u={},f=0;while(s.length>f)a=c(r,e=s[f++]),void 0!==a&&l(u,e,a);return u}})},9093:function(t,e,a){var r=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"990b":function(t,e,a){var r=a("9093"),n=a("2621"),i=a("cb7c"),o=a("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(i(t)),a=n.f;return a?e.concat(a(t)):e}},ac6a:function(t,e,a){for(var r=a("cadf"),n=a("0d58"),i=a("2aba"),o=a("7726"),l=a("32e9"),c=a("84f2"),s=a("2b4c"),u=s("iterator"),f=s("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(d),b=0;b<m.length;b++){var y,g=m[b],h=d[g],v=o[g],O=v&&v.prototype;if(O&&(O[u]||l(O,u,p),O[f]||l(O,f,g),c[g]=p,h))for(y in r)O[y]||i(O,y,r[y],!0)}},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var r=a("85f2"),n=a.n(r);function i(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},f1ae:function(t,e,a){"use strict";var r=a("86cc"),n=a("4630");t.exports=function(t,e,a){e in t?r.f(t,e,n(0,a)):t[e]=a}}}]);