(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19509e36"],{"384b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("el-form",{attrs:{inline:!0,model:t.searchForm,size:"small"}},[a("el-form-item",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"商品名称",clearable:""},on:{blur:function(e){return t.seachs()}},model:{value:t.searchForm.phone,callback:function(e){t.$set(t.searchForm,"phone",e)},expression:"searchForm.phone"}})],1),a("el-form-item",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{label:"店铺"}},[a("el-select",{attrs:{placeholder:"请选择店铺",clearable:""},on:{change:function(e){return t.seachs()}},model:{value:t.searchForm.shop,callback:function(e){t.$set(t.searchForm,"shop",e)},expression:"searchForm.shop"}},t._l(t.shopId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{label:"商品种类"}},[a("el-select",{attrs:{placeholder:"请选择商品种类",clearable:""},on:{change:function(e){return t.seachs()}},model:{value:t.searchForm.productTypeId,callback:function(e){t.$set(t.searchForm,"productTypeId",e)},expression:"searchForm.productTypeId"}},t._l(t.productTypeId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),a("span",{staticClass:"add",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加+")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"160"}}),a("el-table-column",{attrs:{prop:"barCode",label:"商品条码",width:"160"}}),a("el-table-column",{attrs:{prop:"image",label:"商品图片",width:"160"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"imgs",attrs:{src:t.row.image,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"pleased",label:"进货价",width:"160"}}),a("el-table-column",{attrs:{prop:"salePrice",label:"销售价",width:"160"}}),a("el-table-column",{attrs:{prop:"memberPrice",label:"会员价",width:"160"}}),a("el-table-column",{attrs:{prop:"specification",label:"规格",width:"160"}}),a("el-table-column",{attrs:{prop:"color",label:"颜色",width:"160"}}),a("el-table-column",{attrs:{prop:"state",label:"是否上架",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticClass:"switchs",attrs:{disabled:"","active-text":"已上架","inactive-text":"未上架"},model:{value:1==e.row.state,callback:function(a){t.$set(e.row,"state==1?true:false",a)},expression:"scope.row.state==1?true:false"}})]}}])}),a("el-table-column",{attrs:{prop:"productType",label:"商品种类",width:"160"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handlePrint(e.$index,e.row)}}},[t._v("打印条码")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pagination.current,layout:"total, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.seachs}}),a("el-dialog",{attrs:{title:"添加商品",visible:t.dialogFormVisible,"modal-append-to-body":t.modalAppend},on:{"update:visible":function(e){t.dialogFormVisible=e},closed:function(e){t.form={}}}},[a("el-form",{staticClass:"demo-ruleForm flex",attrs:{model:t.form}},[a("el-form-item",{staticClass:"formlist",attrs:{label:"商品名称","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品名称不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品条码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.barCode,callback:function(e){t.$set(t.form,"barCode",e)},expression:"form.barCode"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品进货价","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品进货价不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.pleased,callback:function(e){t.$set(t.form,"pleased",e)},expression:"form.pleased"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品销售价","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品销售价不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.salePrice,callback:function(e){t.$set(t.form,"salePrice",e)},expression:"form.salePrice"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品会员价","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品会员价不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.memberPrice,callback:function(e){t.$set(t.form,"memberPrice",e)},expression:"form.memberPrice"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品状态","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品状态不能为空"}]}},[a("el-switch",{staticClass:"switchs",attrs:{"active-text":"已上架","inactive-text":"未上架"},on:{change:function(e){return t.status()}},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品分类","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品分类不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:t.form.productTypeId,callback:function(e){t.$set(t.form,"productTypeId",e)},expression:"form.productTypeId"}},t._l(t.productTypeId,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品库存","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品库存不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品规格","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品规格不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.specification,callback:function(e){t.$set(t.form,"specification",e)},expression:"form.specification"}})],1),a("el-form-item",{staticClass:"formlist",attrs:{label:"商品颜色","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品颜色不能为空"}]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}})],1),a("el-form-item",{staticClass:"formlistbig",attrs:{label:"商品图片","label-width":t.formLabelWidth,rules:[{required:!0,message:"商品图片不能为空"}]}},[a("el-upload",{attrs:{action:"http://192.168.1.184:8080/upload.action","list-type":"picture-card","on-success":t.handlesuccess,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,limit:t.limit}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addCommodity}},[t._v("确 定")])],1)],1)],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86"));function l(t,e){var a=Object.keys(t);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(t)),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var n={name:"GoodsList",data:function(){return{searchForm:{phone:"",shop:"",productTypeId:""},loading:!1,pagination:{},tableData:[],limit:1,shopId:[],productTypeId:[],dialogImageUrl:"",dialogVisible:!1,modalAppend:!1,dialogFormVisible:!1,form:{name:"",barCode:"",pleased:"",salePrice:"",memberPrice:"",specification:"",color:"",state:!1,productTypeId:"",quantity:""},imgArr:[],formLabelWidth:"120px"}},methods:{handlePrint:function(){},seachs:function(t){var e=this;this.$ajax.post("getProductByCondition.action",{productName:this.searchForm.phone?this.searchForm.phone:"",shopId:this.searchForm.shop?this.searchForm.shop:"",productTypeId:this.searchForm.productTypeId?this.searchForm.productTypeId:"",page:t||1,limit:10}).then(function(a){if(1===a.data.code&&0!=a.data.count){var o=s({},e.pagination);o.total=a.data.count,o.current=t,e.loading=!1,e.tableData=a.data.listProduct,e.pagination=o}else e.pagination.total=0,e.pagination.current=1,e.tableData=[]})},getShopLists:function(){var t=this;this.$ajax.post("listShopIdAndName.action",{}).then(function(e){for(var a=0;a<e.data.data.length;a++){var o={};o.value=e.data.data[a].id,o.label=e.data.data[a].name,t.shopId.push(o)}})},getClassList:function(){var t=this;this.$ajax.post("listProductType.action",{}).then(function(e){for(var a=0;a<e.data.listProductType.length;a++){var o={};o.value=e.data.listProductType[a].id,o.label=e.data.listProductType[a].productTypeName,t.productTypeId.push(o)}})},status:function(t){},addCommodity:function(){var t=this;1==this.form.state?this.form.state=1:this.form.state=2,this.$ajax.post("addProduct.action",this.form).then(function(e){1==e.data.code?(t.$message({message:e.data.msg,type:"success"}),t.dialogFormVisible=!1,t.form={}):t.$message({message:e.data.msg,type:"warning"})})},handlesuccess:function(t,e){this.form.image=t.data},handleRemove:function(t,e){console.log(t,e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleEdit:function(t,e){var a=this;console.log(t,e),this.$ajax.post("getProduct.action",{productId:e.id}).then(function(t){a.dialogFormVisible=!0,a.form=t.data.product,a.form.image=t.data.product.image})},handleDelete:function(t){var e=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post("/delProduct.action",{productId:t.id}).then(function(t){1===t.data.code&&(e.$message.success(t.data.msg),e.seachs(e.pagination.current))})}).catch(function(){e.$message.info("已取消")})}},mounted:function(){this.seachs(1),this.getClassList(),this.getShopLists()}},c=n,u=(a("b5e8"),a("2877")),d=Object(u["a"])(c,o,r,!1,null,"18d65d3a",null);e["default"]=d.exports},"454f":function(t,e,a){a("46a7");var o=a("584a").Object;t.exports=function(t,e,a){return o.defineProperty(t,e,a)}},"456d":function(t,e,a){var o=a("4bf8"),r=a("0d58");a("5eda")("keys",function(){return function(t){return r(o(t))}})},"46a7":function(t,e,a){var o=a("63b6");o(o.S+o.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},4763:function(t,e,a){},"5eda":function(t,e,a){var o=a("5ca1"),r=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(r.Object||{})[t]||Object[t],l={};l[t]=e(a),o(o.S+o.F*i(function(){a(1)}),"Object",l)}},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var o=a("5ca1"),r=a("990b"),i=a("6821"),l=a("11e9"),s=a("f1ae");o(o.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,o=i(t),n=l.f,c=r(o),u={},d=0;while(c.length>d)a=n(o,e=c[d++]),void 0!==a&&s(u,e,a);return u}})},"990b":function(t,e,a){var o=a("9093"),r=a("2621"),i=a("cb7c"),l=a("7726").Reflect;t.exports=l&&l.ownKeys||function(t){var e=o.f(i(t)),a=r.f;return a?e.concat(a(t)):e}},ac6a:function(t,e,a){for(var o=a("cadf"),r=a("0d58"),i=a("2aba"),l=a("7726"),s=a("32e9"),n=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),m=n.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),b=0;b<p.length;b++){var h,g=p[b],v=f[g],y=l[g],w=y&&y.prototype;if(w&&(w[u]||s(w,u,m),w[d]||s(w,d,g),n[g]=m,v))for(h in o)w[h]||i(w,h,o[h],!0)}},b5e8:function(t,e,a){"use strict";var o=a("4763"),r=a.n(o);r.a},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var o=a("85f2"),r=a.n(o);function i(t,e,a){return e in t?r()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},f1ae:function(t,e,a){"use strict";var o=a("86cc"),r=a("4630");t.exports=function(t,e,a){e in t?o.f(t,e,r(0,a)):t[e]=a}}}]);